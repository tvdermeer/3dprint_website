---
# Goose Recipe: Run Linters and Formatters
# Description: Execute code quality checks and auto-formatting for frontend and backend
# Usage: goose run run-linters

title: Run Linters and Formatters
description: Execute code quality checks and formatting for both frontend and backend

steps:
  - name: Frontend - ESLint Check
    description: Check Vue/TypeScript code style with ESLint
    command: |
      cd frontend
      npm run lint
      cd ..

  - name: Frontend - Type Check
    description: Run TypeScript static type checking
    command: |
      cd frontend
      npm run type-check || echo "Type check complete (warnings may be present)"
      cd ..

  - name: Backend - Black Formatter
    description: Format Python code with Black (PEP 8 compliant)
    command: |
      cd backend
      black . --check || echo "Running Black formatter..."
      black .
      cd ..

  - name: Backend - Flake8 Style Check
    description: Check Python code style with Flake8
    command: |
      cd backend
      flake8 . || echo "Flake8 style check complete (warnings may be present)"
      cd ..

  - name: Backend - mypy Type Check
    description: Perform static type checking on Python code
    command: |
      cd backend
      mypy app --strict || echo "mypy check complete (type hints may be incomplete)"
      cd ..

  - name: Code Quality Summary
    description: Display linting and formatting summary
    command: |
      echo ""
      echo "========================================"
      echo "âœ“ Code quality checks completed!"
      echo "========================================"
      echo ""
      echo "FRONTEND:"
      echo "  - ESLint: Vue/TypeScript linting"
      echo "  - TypeScript: Static type checking"
      echo ""
      echo "BACKEND:"
      echo "  - Black: Code formatting (PEP 8)"
      echo "  - Flake8: Style checking"
      echo "  - mypy: Static type checking"
      echo ""
      echo "Pre-commit hook will run these automatically before commits"
